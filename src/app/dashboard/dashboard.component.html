<!-- <app-header></app-header> -->

<div *ngIf="!deleteConfirm">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <span class="navbar-brand ms-2 pt-3 fs-4 text-primary-emphasis" >
          <i class="fa-solid fa-2x fa-building-columns text-danger"></i>&nbsp; Online Banking App</span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-3 pt-3 ps-5" aria-current="page" routerLink="/dashboard">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" data-bs-toggle="offcanvas"
                href="#offcanvasDeposite">Deposit</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Fund Transfer</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" (click)="getBalance()" data-bs-toggle="offcanvas"
                href="#offcanvasExample" aria-controls="offcanvasExample">Balance</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" routerLink="/ministatement">Mini Statement</a>
            </li>
            <li class="nav-item dropdown ">
              <a class="nav-link active dropdown-toggle fs-5 ms-2 pt-3 ps-5" href="#" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">
                My Profile
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item text-danger" (click)="deleteAccountFromNavbar()"><i class="fa-solid fa-trash-can"></i>&nbsp; Delete
                    Account</a></li>
                <li><a class="dropdown-item text-success" (click)="logout()" href="#"><i class="fa-solid fa-right-from-bracket"></i>&nbsp;
                    Logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!-- app-delete-confirm child selector -->
<app-delete-confirm [item]="acno" (onCancel)="onCancel()" (onDelete)="onDelete($event)"></app-delete-confirm>
  
<!-- delete spinner -->
<div *ngIf="deleteSpinnerDiv" class="container">
  <div class="row text-center mt-5">
<img class="logout mb-3" src="https://usagif.com/cdn-cgi/mirage/09c19a0b04d318b94cdf25a36e2298c0898e3ed217459472a15deb39b4b648f1/1280/https://usagif.com/wp-content/uploads/loading-78.gif" alt="logout spinner image">
 <p>please wait while deleting your Account...</p>
</div>
</div>

<!-- logout spinner -->

<div *ngIf="logoutDiv" class="container">
  <div class="row text-center mt-5">
<img class="logoutsp mb-3" src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Loading_2.gif?20170503175831" alt="logout spinner image">
 <p>please wait while logging out...</p>
</div>
</div>


<!-- dashboard Design -->

  <div *ngIf="!logoutDiv" class="container">
    <div *ngIf="!deleteConfirm" class="row">
      <div class="col-md-4">
        <h1 class="text-center" style="margin-top:100px;  ">Welcome <span class="text-danger">{{user}}</span></h1>
        <div class="mb-2 border p-2 text-center"><span class="text-success" style="font-weight: bold;"> Account Number -</span> <b class="text-primary ">{{currentAcno}}</b></div>

        <div style="text-align: justify;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, voluptas, corrupti veniam harum atque
          minima velit mollitia vel laborum iusto, repellat sit officia. Voluptas facere, corporis harum omnis voluptates
          maxime?</div>
        <div style="text-align: justify;" class="collapse" id="collapseExample">Lorem ipsum dolor sit amet consectetur
          adipisicing elit. Voluptas quaerat dignissimos consequatur aut sit ea
          repudiandae nobis nostrum recusandae nemo laborum cumque consectetur asperiores itaque magni atque fugit,
          distinctio laboriosam!Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas quaerat dignissimos
          </div>
       
          <button (click)="collapse()" class="btn btn-primary mt-2 p-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            Read <span *ngIf="isCollapse">More</span>
              <span *ngIf="!isCollapse">Less</span>
            </button>
      </div>
      <div class="col-8">
        <img class="m-5" height="400px" src="https://img.freepik.com/free-vector/mobile-payment-transfer-flat-vector-illustration-tiny-man-woman-sending-receiving-money-wireless-doing-remittance-with-help-smartphone-bank-deposit-cashless-business-concept_74855-25190.jpg?w=2000" alt="login image">
      </div>
    </div>
  </div>
  
  <!-- offcanvas balance enquiry -->
  
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title text-primary" id="offcanvasExampleLabel">Balance Enquiry</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div style="text-align: center;"><img width="300px"
          src="https://img.freepik.com/free-photo/3d-hand-puts-gold-coins-money-stack_107791-17028.jpg?w=2000" alt="">
      </div>
      <div style="margin-top: 60px;" class="mt-2">
        <h5>Dear <span class="text-danger">{{user}}</span>,</h5>
        <label for="">Your current Account {{currentAcno}} Balance is <br> <b class="text-success fs-5">{{balance}}</b></label>
      </div>
  
    </div>
  </div>
  
  <!-- offcanvas Deposite enquiry -->
  
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasDeposite" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Deposite Here</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div style="text-align: center;"><img width="300px"
          src="https://apacnewsnetwork.com/wp-content/uploads/2022/11/Dvara-Moneys-%E2%80%98Spark-Account-onboards-15000-gig-workers-in-just-3-months.png" alt="">
      </div>
      <div style="margin-top: 60px;" class="mt-2">
  
        <h5>Dear {{user}},<br> You can enter the amount to deposite in your account</h5>
        <form (ngSubmit)="deposite()" [formGroup]="depositeForm" class="mt-2 p-2">
          
          <input name="amount" formControlName="amount" type="text" class="form-control" placeholder="Enter amount">
  
           <!-- invalid amount -->
          <div *ngIf="this.depositeForm.get('amount')?.errors&&this.depositeForm.get('amount')?.touched" class="text-danger mb-2" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif;">
            Invalid Amount, Please enter a valid amount !!
          </div>
          <div class="text-danger">
            {{depositeMsg}}
          </div>
          <button (click)="showconfetti($event.target)"
          class="btn btn-primary mt-2">Deposit</button>
        </form>
      </div>
  
    </div>
  </div>
  
  <!-- fund transfer model -->
  
  
  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-primary" id="staticBackdropLabel">Fund Transfer</h1>
          <button type="button" (click)="clearFundTransferForm()"  class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form  [formGroup]="fundTransferForm" class="border mt-5 me-5 p-5">
            <div class="mt-4 mb-2">
                <input name="toAcno" formControlName="toAcno" type="text" placeholder="Credit Account Number" id="floatingInput" class="form-control" >
          <!-- <label for="floatingInput">Account Number</label>  -->
              </div>
            <!-- invalid acno -->
            <div *ngIf="this.fundTransferForm.get('toAcno')?.errors&&this.fundTransferForm.get('toAcno')?.touched" class="text-danger mb-2" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif;">
                Invalid Account Number
            </div>
            <div class="mt-4 mb-3">
              <input name="pswd" formControlName="pswd" type="password" placeholder="Profile Password" class="form-control">
          </div>
           <!-- invalid pswd -->
           <div *ngIf="this.fundTransferForm.get('pswd')?.errors&&this.fundTransferForm.get('pswd')?.touched" class="text-danger mb-2" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif;">
              Invalid Password
          </div>
  
            
            <div class="mt-4 mb-3">
              <input name="amount" formControlName="amount" type="text" placeholder="Enter amount" class="form-control">
          </div>
           <!-- invalid pswd -->
           <div *ngIf="this.fundTransferForm.get('amount')?.errors&&this.fundTransferForm.get('amount')?.touched" class="text-danger mb-2" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif;">
              Invalid Amount
          </div>
  
        </form>
        </div>
                <!-- fund transfer success msg -->

        <div class="text-success text-center">
          {{fundTansferSuccessMsg }}
        </div>
                        <!-- fund transfer error msg -->
                        <div class="text-danger text-center">
                          {{fundTansferErrorMsg}}

                        </div>

        <div class="modal-footer">
          <button type="button" (click)="clearFundTransferForm()" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
          <button type="button" (click)="transfer()" class="btn btn-success">Transfer</button>
        </div>
      </div>
    </div>
  </div>